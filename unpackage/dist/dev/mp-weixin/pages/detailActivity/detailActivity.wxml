<view class="detail-container"><view class="title-row"><block wx:if="{{activityData.type}}"><text class="category-tag title-category">{{activityData.type}}</text></block><view class="title">{{activityData.name}}</view></view><view class="detail-card"><view class="detail-item"><text class="detail-label">活动地点：</text><text class="detail-value">{{fullAddress}}</text></view><view class="detail-item"><text class="detail-label">活动时间：</text><text class="detail-value">{{activityData.date+" "+activityData.timeSlot+(activityData.endtime?' - '+activityData.endtime:'')}}</text></view><view class="detail-item"><text class="detail-label">参与人数：</text><text class="detail-value">{{(activityData.joinedPeople||0)+" / "+activityData.totalPeople}}</text></view><view class="detail-item"><text class="detail-label">联系方式：</text><text class="detail-value">{{activityData.contact||'未提供'}}</text></view><view class="detail-item description"><text class="detail-label">活动说明：</text><text class="detail-value">{{activityData.description||'暂无详细说明'}}</text></view></view><block wx:if="{{!isOwner}}"><button class="{{['join-button',hasJoined?'leave-button':'']}}" type="{{hasJoined?'warn':'primary'}}" data-event-opts="{{[['tap',[['handleJoin',['$event']]]]]}}" bindtap="__e">{{hasJoined?'退出活动':'立即报名'}}</button></block><block wx:else><view class="owner-actions"><button data-event-opts="{{[['tap',[['goEditActivity',['$event']]]]]}}" class="edit-button" bindtap="__e">编辑活动</button><button data-event-opts="{{[['tap',[['confirmDelete',['$event']]]]]}}" class="delete-button" bindtap="__e">删除活动</button></view></block><block wx:if="{{$root.g0}}"><view class="participants-card"><view class="participants-title">参加人员</view><block wx:for="{{participantsInfo}}" wx:for-item="p" wx:for-index="idx"><view class="participants-item" data-username="{{p.username}}" data-event-opts="{{[['tap',[['goUserProfileTap',['$event']]]]]}}" bindtap="__e"><text class="participants-link">{{p.username+"（"+(p.nickname||p.username)+"）"}}</text></view></block></view></block></view>