<view class="register-container"><view class="register-header"><text class="title">用户注册</text></view><view class="register-form"><view class="form-item"><text class="label">用户名</text><input class="input" placeholder="请输入用户名（3-20位,不可更改）" maxlength="20" data-event-opts="{{[['input',[['__set_model',['$0','username','$event',[]],['form']]]]]}}" value="{{form.username}}" bindinput="__e"/></view><view class="form-item input-with-suffix"><text class="label">密码</text><view class="input-wrapper"><input class="input" password="{{!regPwdVisible}}" placeholder="请输入密码（6-20位）" maxlength="20" data-event-opts="{{[['input',[['__set_model',['$0','password','$event',[]],['form']]]]]}}" value="{{form.password}}" bindinput="__e"/><view class="suffix-group"><block wx:if="{{form.password}}"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="clear-toggle" catchtap="__e"><text class="icon-clear">✕</text></view></block><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="eye-toggle" catchtap="__e"><text class="icon-eye">{{regPwdVisible?'👁️':'🙈'}}</text></view></view></view></view><view class="form-item input-with-suffix"><text class="label">确认密码</text><view class="input-wrapper"><input class="input" password="{{!regConfirmVisible}}" placeholder="请再次输入密码" maxlength="20" data-event-opts="{{[['input',[['__set_model',['$0','confirmPassword','$event',[]],['form']]]]]}}" value="{{form.confirmPassword}}" bindinput="__e"/><view class="suffix-group"><block wx:if="{{form.confirmPassword}}"><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" class="clear-toggle" catchtap="__e"><text class="icon-clear">✕</text></view></block><view data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" class="eye-toggle" catchtap="__e"><text class="icon-eye">{{regConfirmVisible?'👁️':'🙈'}}</text></view></view></view></view><view class="form-item privacy-row"><view data-event-opts="{{[['tap',[['toggleAgree',['$event']]]]]}}" class="{{['checkbox',(agreePrivacy)?'checked':'']}}" bindtap="__e"><block wx:if="{{agreePrivacy}}"><text>✔</text></block></view><text class="privacy-tip">打勾代表同意</text><text data-event-opts="{{[['tap',[['navigateToPrivacy',['$event']]]]]}}" class="privacy-link" bindtap="__e">隐私政策</text></view><button class="register-btn" disabled="{{loading}}" data-event-opts="{{[['tap',[['handleRegister',['$event']]]]]}}" bindtap="__e">{{''+(loading?'注册中...':'注册')+''}}</button><view class="login-tip">已有账号？<text data-event-opts="{{[['tap',[['navigateToLogin',['$event']]]]]}}" class="login-link" bindtap="__e">去登录</text></view><block wx:if="{{showConfirmDialog}}"><view class="modal-mask"><view class="modal-dialog"><view class="modal-title">重要提醒</view><view class="modal-content">请截图保存用户名与密码，用户名不可更改</view><view class="modal-actions"><button class="btn-cancel" disabled="{{confirmLoading}}" data-event-opts="{{[['tap',[['cancelConfirm',['$event']]]]]}}" bindtap="__e">取消</button><button class="{{['btn-ok',(!confirmEnabled)?'disabled':'']}}" disabled="{{!confirmEnabled}}" data-event-opts="{{[['tap',[['confirmRegister',['$event']]]]]}}" bindtap="__e">{{''+(confirmEnabled?'确认':'确认（'+confirmCountdown+'s）')+''}}</button></view></view></view></block></view></view>